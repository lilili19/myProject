webpackJsonp([1],{Ba2A:function(e,t){},D1hm:function(e,t){},FhoZ:function(e,t,a){"use strict";(function(t){const n=a("o/zv");e.exports={dev:{assetsSubDirectory:"static",assetsPublicPath:"/",proxyTable:{"/api":{target:"http://localhost:3000/api",ws:!0,changeOrigin:!0,pathRewrite:{"^/api":""}},"/auth":{target:"http://10.10.3.78:30303",ws:!0,changeOrigin:!0,pathRewrite:{"^/auth":""}}},host:"0.0.0.0",port:8080,autoOpenBrowser:!1,errorOverlay:!0,notifyOnErrors:!0,poll:!1,useEslint:!0,showEslintErrorsInOverlay:!1,devtool:"cheap-module-eval-source-map",cacheBusting:!0,cssSourceMap:!0},build:{index:n.resolve(t,"../dist/index.html"),assetsRoot:n.resolve(t,"../dist"),assetsSubDirectory:"./static",assetsPublicPath:"/",productionSourceMap:!1,devtool:"#source-map",productionGzip:!1,productionGzipExtensions:["js","css"],bundleAnalyzerReport:Object({NODE_ENV:"production"}).npm_config_report},host1:"/api",host2:"/auth",imgHost:"/static/images"}}).call(t,"/")},Hj2K:function(e,t){},M6ZP:function(e,t){},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("lRwf"),r=a.n(n),s={name:"App",watch:{$route:function(e,t){(JSON.parse(sessionStorage.getItem("user"))||{}).token||"/login"===e.path||this.$router.push("/login")}}},i={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var o=a("VU/8")(s,i,!1,function(e){a("W3ps")},null,null).exports,c=a("/ocq"),u=a("Xxa5"),l=a.n(u),d=a("mvHQ"),p=a.n(d),m=a("exGp"),f=a.n(m),h=a("Dd8w"),g=a.n(h),v=a("NYxO"),b={components:{},name:"login",data:function(){return{userName:"",password:"",loading:!1}},mounted:function(){},computed:g()({},Object(v.c)([])),methods:g()({},Object(v.b)(["userLogin","userRegister","userUpdatePassword"]),{login:function(){var e=this;return f()(l.a.mark(function t(){var a;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.userName){t.next=2;break}return t.abrupt("return",e.$message.error("用户名不能为空"));case 2:if(e.password){t.next=4;break}return t.abrupt("return",e.$message.error("密码不能为空"));case 4:return a={userName:e.userName,password:e.password},e.loading=!0,t.next=8,e.userLogin({data:a,callBack:function(t){sessionStorage.setItem("user",p()(t)),e.$router.push("/")}});case 8:e.loading=!1;case 9:case"end":return t.stop()}},t,e)}))()},register:function(){var e=this;return f()(l.a.mark(function t(){var a;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.userName){t.next=2;break}return t.abrupt("return",e.$message.error("用户名不能为空"));case 2:if(e.password){t.next=4;break}return t.abrupt("return",e.$message.error("密码不能为空"));case 4:return a={userName:e.userName,password:e.password},e.loading=!0,t.next=8,e.userRegister({data:a,callBack:function(t){e.$message.success("注册成功")}});case 8:e.loading=!1;case 9:case"end":return t.stop()}},t,e)}))()},updatePassword:function(){var e=this;return f()(l.a.mark(function t(){var a;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.userName){t.next=2;break}return t.abrupt("return",e.$message.error("用户名不能为空"));case 2:if(e.password){t.next=4;break}return t.abrupt("return",e.$message.error("密码不能为空"));case 4:return a={userName:e.userName,password:e.password},e.loading=!0,t.next=8,e.userUpdatePassword({data:a,callBack:function(t){e.$message.success("修改成功")}});case 8:e.loading=!1;case 9:case"end":return t.stop()}},t,e)}))()},keydown:function(){13==(window.event||arguments.callee.caller.arguments[0]).keyCode&&this.login()}}),watch:{}},x={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"login"},[a("div",{staticClass:"login_form"},[a("el-input",{staticClass:"qxs-ic_user",attrs:{type:"text",placeholder:"用户名"},model:{value:e.userName,callback:function(t){e.userName=t},expression:"userName"}}),e._v(" "),a("el-input",{staticClass:"qxs-ic_password",attrs:{type:"text",placeholder:"密码"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.keydown(t)}},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),e._v(" "),a("el-button",{staticClass:"login_btn",attrs:{type:"primary"},on:{click:e.login}},[e._v("登录")]),e._v(" "),a("div",{staticStyle:{"margin-top":"10px"}},[a("span",{staticStyle:{color:"#A9A9AB",cursor:"pointer"},on:{click:e.register}},[e._v("注册账号")])])],1)])},staticRenderFns:[]};var w=a("VU/8")(b,x,!1,function(e){a("O01m")},"data-v-46301f8b",null).exports,S=a("d7EF"),k=a.n(S),_={props:["menuList","getSelectMenu"],data:function(){return{userName:(JSON.parse(sessionStorage.getItem("user"))||{}).userName}},methods:{groupDetail:function(e,t,a){e.preventDefault(),this.$emit("showGroupPopup",[t,a],{X:e.pageX,Y:e.pageY})},tab:function(e,t){this.getSelectMenu[0]===e&&this.getSelectMenu[1]===t||(this.$emit("changeSelectMenu",[e,t]),this.$emit("routerView",e,t))},select:function(){var e=this.$route.params.id,t=[];this.menuList.map(function(a,n){var r=a.children.findIndex(function(t,a){return t.uuid===e});-1!==r&&(t=[n,r])}),this.$emit("changeSelectMenu",t)}},mounted:function(){"home"===this.$route.name&&this.$emit("changeSelectMenu",[])},watch:{$route:function(e,t){"home"===e.name&&this.$emit("changeSelectMenu",[])},getSelectMenu:function(e){var t=this.menuList;0!==e.length&&(t[e[0]].hidden=!1,this.$emit("changeSetMenuList",t))}}},L={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ul",{staticClass:"menu"},e._l(e.menuList,function(t,n){return a("li",{key:n},[a("div",{staticClass:"title",on:{click:function(t){return e.$emit("changeHidden",n)},contextmenu:function(a){return e.userName===t.userName?e.groupDetail(a,n):""}}},[a("span",[e._v("\n                    "+e._s(t.title)+"\n                    "),a("span",{staticStyle:{color:"#00ff0a"}},[e._v(e._s(e.userName===t.userName?"":" ("+t.userName+")"))])]),e._v(" "),a("i",{staticClass:"el-icon-caret-top",class:{tran:!t.hidden,tran2:t.hidden}})]),e._v(" "),a("ul",{style:{height:t.hidden?0:42*t.children.length+"px"}},e._l(t.children,function(r,s){return a("li",{key:s,staticClass:"title2",class:{tabItem:e.getSelectMenu[0]===n&&e.getSelectMenu[1]===s},on:{contextmenu:function(a){return e.userName===t.userName?e.groupDetail(a,n,s):""},click:function(t){return e.tab(n,s)}}},[e._v("\n                    "+e._s(r.title)+"\n                ")])}),0)])}),0)},staticRenderFns:[]};var y=a("VU/8")(_,L,!1,function(e){a("Hj2K")},"data-v-7a5c409f",null).exports,j={props:["isAdd"],data:function(){return{sysUserName:(JSON.parse(sessionStorage.getItem("user"))||{}).userName}},methods:{logout:function(){var e=this;this.$confirm("确认退出吗?","提示",{type:"warning"}).then(function(){sessionStorage.removeItem("user"),e.$router.push("/login")})}},mounted:function(){},watch:{}},N={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-col",{staticClass:"header",attrs:{span:24}},[a("el-col",{staticClass:"logo logo-width",staticStyle:{display:"flex","justify-content":"space-between"},attrs:{span:10}},[a("span",[e._v("接口文档")]),e._v(" "),e.isAdd?e._e():a("span",[a("i",{staticClass:"el-icon-plus",staticStyle:{cursor:"pointer"},on:{click:function(t){return e.$emit("dialogShow","增加组")}}})])]),e._v(" "),a("el-col",{staticClass:"userinfo",attrs:{span:4}},[a("el-dropdown",{attrs:{trigger:"hover"}},[a("span",{staticClass:"el-dropdown-link userinfo-inner"},[e._v("\n                "+e._s(e.sysUserName)+"\n            ")]),e._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{nativeOn:{click:function(t){return e.$emit("setUser")}}},[e._v("设置")]),e._v(" "),a("el-dropdown-item",{attrs:{divided:""},nativeOn:{click:function(t){return e.logout(t)}}},[e._v("退出登录")])],1)],1)],1)],1)},staticRenderFns:[]};var M=a("VU/8")(j,N,!1,function(e){a("M6ZP")},"data-v-de43b8fa",null).exports,$={components:{Menu:y,Header:M},data:function(){return{userName:(JSON.parse(sessionStorage.getItem("user"))||{}).userName,loading:!1,selectName:"",obj:{model:!1,title:"",type:1,data:"",delContent:""},diaPopup:{isShowSelect:!1,selectIndex:[],X:0,Y:0,data:[]}}},computed:g()({},Object(v.c)(["getMenuList","getSelectMenu"])),methods:g()({},Object(v.b)(["setMenuList","setSelectMenu","getNavList","addGrouping","rename","menuDel"]),{dialogShow:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments[3];this.obj={model:!0,title:e,type:t,data:a,delContent:n}},dialogTrue:function(){var e=this.getMenuList[this.diaPopup.selectIndex[0]||0]||{},t=this.diaPopup.selectIndex[1];switch(this.obj.type){case 1:if(!this.obj.data)return this.$message.error("请输入名称");this.addGroupingAjax();break;case 2:if(!this.obj.data)return this.$message.error("请输入名称");this.addGroupingAjax(e.uid);break;case 3:if(!this.obj.data)return this.$message.error("请输入名称");this.renameAjax(t||0===t?e.children[t].id:e.id,e.uid,(e.children[t]||{}).uuid);break;case 4:var a=e.children[t]||{},n=(a.id,a.uuid);this.delAjax(e.uid,n)}},navList:function(){var e=this;return f()(l.a.mark(function t(){var a,n,r;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=JSON.parse(sessionStorage.getItem("user"))||{},n=a.userName,r={userName:n},e.loading=!0,t.next=5,e.getNavList({data:r,callBack:function(t){t=(t||[]).map(function(e){var t=(e.children||[]).map(function(e){return{id:e.id,title:e.name,uuid:e.uuid,userName:e.userName}});return{id:e.id,title:e.name,uid:e.uid,userName:e.userName,hidden:!0,children:t}}),e.setMenuList(t)}});case 5:e.loading=!1;case 6:case"end":return t.stop()}},t,e)}))()},addGroupingAjax:function(e){var t=this;return f()(l.a.mark(function a(){var n;return l.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return n={uid:e,name:t.obj.data},t.loading=!0,a.next=4,t.addGrouping({data:n,callBack:function(a){if(e)t.getMenuList[t.diaPopup.selectIndex[0]].children.push({title:t.obj.data,userName:t.userName,uuid:a});else{var n={title:t.obj.data,uid:a,userName:t.userName,hidden:!0,children:[]},r=t.getMenuList.findIndex(function(e){return e.userName!==t.userName});-1===r?t.getMenuList.push(n):t.getMenuList.splice(r,0,n)}t.obj.model=!1,t.$message.success("新增成功")}});case 4:t.loading=!1;case 5:case"end":return a.stop()}},a,t)}))()},renameAjax:function(e,t,a){var n=this;return f()(l.a.mark(function r(){var s;return l.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return s={id:e,uid:t,uuid:a,name:n.obj.data},n.loading=!0,r.next=4,n.rename({data:s,callBack:function(e){a?n.getMenuList[n.diaPopup.selectIndex[0]].children[n.diaPopup.selectIndex[1]].title=n.obj.data:n.getMenuList[n.diaPopup.selectIndex[0]].title=n.obj.data,n.obj.model=!1}});case 4:n.loading=!1;case 5:case"end":return r.stop()}},r,n)}))()},delAjax:function(e,t){var a=this;return f()(l.a.mark(function n(){var r;return l.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r={uid:e,uuid:t},a.loading=!0,n.next=4,a.menuDel({data:r,callBack:function(e){return t?a.getMenuList[a.diaPopup.selectIndex[0]].children.splice(a.diaPopup.selectIndex[1],1):a.getMenuList.splice(a.diaPopup.selectIndex[0],1),a.obj.model=!1,a.$message.success("删除成功")}});case 4:a.loading=!1;case 5:case"end":return n.stop()}},n,a)}))()},showGroupPopup:function(e,t){var a=k()(e,2),n=a[0],r=a[1],s=t.X,i=t.Y;this.diaPopup={isShowSelect:!0,selectIndex:[n,r],X:s,Y:i,data:r||0===r?["重命名","删除"]:["重命名","增加项目","删除该组"]}},changeGopup:function(e){this.diaPopup.isShowSelect=!1;var t=this.getMenuList[this.diaPopup.selectIndex[0]],a=this.diaPopup.selectIndex[1];switch(e){case 0:this.dialogShow("重命名",3,a||0===a?t.children[a].title:t.title);break;case 1:if(a||0===a){var n=t.children[a].title;this.dialogShow("删除项目",4,"",'确定删除项目<span style="color: red">'+n+"</span>?")}else this.dialogShow("新增项目",2,"");break;case 2:this.dialogShow("删除项目",4,"",'确定删除<span style="color: red">'+t.title+"</span>整组?")}},routerView:function(e,t){var a=this.getMenuList[e].children[t],n=a.uuid,r=a.title;this.selectName=r,this.$router.push({name:"projectList",params:{id:n}})},setUser:function(){this.setSelectMenu([]),this.$router.push({name:"setUser"})},logout:function(){var e=this;this.$confirm("确认退出吗?","提示",{type:"warning"}).then(function(){sessionStorage.removeItem("user"),e.$router.push("/login")}).catch(function(){})}}),mounted:function(){this.navList()},watch:{}},D={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"container"},[a("Header",{on:{dialogShow:e.dialogShow,setUser:e.setUser}}),e._v(" "),a("el-col",{staticClass:"main",attrs:{span:24}},[a("div",{staticClass:"nav"},[a("Menu",{attrs:{menuList:e.getMenuList,getSelectMenu:e.getSelectMenu},on:{changeHidden:function(t){e.getMenuList[t].hidden=!e.getMenuList[t].hidden},showGroupPopup:e.showGroupPopup,routerView:e.routerView,changeSelectMenu:function(t){e.setSelectMenu(t)},changeSetMenuList:function(t){e.setMenuList(t)}}})],1),e._v(" "),a("section",{staticClass:"content-container"},[a("div",{staticClass:"grid-content bg-purple-light"},[a("el-col",{staticClass:"content-wrapper",attrs:{span:24}},[a("transition",{attrs:{name:"fade",mode:"out-in"}},[a("router-view")],1)],1)],1),e._v(" "),e.getSelectMenu.length||"setUser"===e.$route.name?e._e():a("div",{staticStyle:{"font-size":"18px"}},[e._v("\n\t\t\t\tWelcome!\n\t\t\t")])])]),e._v(" "),a("el-dialog",{attrs:{title:e.obj.title,visible:e.obj.model,width:"350px","before-close":function(){return e.obj.model=!1}}},[4!==e.obj.type?a("p",{staticStyle:{display:"flex","align-items":"center"}},[a("span",[e._v("名称：")]),e._v(" "),e.obj.model?a("el-input",{staticStyle:{flex:"1","margin-left":"5px"},attrs:{placeholder:"请输入名称",autofocus:""},model:{value:e.obj.data,callback:function(t){e.$set(e.obj,"data",t)},expression:"obj.data"}}):e._e()],1):a("p",{staticStyle:{display:"flex","align-items":"center"}},[a("span",{domProps:{innerHTML:e._s(e.obj.delContent)}})]),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.obj.model=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.dialogTrue}},[e._v("确 定")])],1)]),e._v(" "),e.diaPopup.isShowSelect?a("div",{staticClass:"diaPopup",on:{click:function(t){e.diaPopup.isShowSelect=!1},contextmenu:function(e){return e.preventDefault()}}},[a("ul",{style:{top:e.diaPopup.Y+"px",left:e.diaPopup.X+"px"},on:{click:function(e){e.stopPropagation()}}},e._l(e.diaPopup.data,function(t,n){return a("li",{key:n,on:{click:function(t){return e.changeGopup(n)}}},[e._v(e._s(t))])}),0)]):e._e()],1)},staticRenderFns:[]};var A=a("VU/8")($,D,!1,function(e){a("Ba2A")},"data-v-43e2a6c8",null).exports,O=a("+6Bu"),P=a.n(O),I={props:["name"],data:function(){return{userName:(JSON.parse(sessionStorage.getItem("user"))||{}).userName,loading:!1,uuid:(this.$route.params.id||"").split("_")[1],formLabelAlign:{id:(this.$route.params.id||"").split("_")[0],name:"",host:"",url:"",method:"get",header:"",data:"",remarks:"",returnData:""},rules:{name:[{required:!0,message:"请输入活动名称",trigger:"blur"}]}}},methods:g()({},Object(v.b)(["setSelectMenu","addEdit","projectList","request"]),{save:function(){var e=this;return f()(l.a.mark(function t(){var a,n;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.formLabelAlign.name){t.next=2;break}return t.abrupt("return",e.$message.error("接口名不能为空"));case 2:for(n in(a=JSON.parse(p()(e.formLabelAlign))).uuid=e.getMenuList[e.getSelectMenu[0]].children[e.getSelectMenu[1]].uuid,a)"string"==typeof a[n]&&(a[n]=a[n].replace(/\"/g,'\\"'));return e.loading=!0,t.next=8,e.addEdit({data:a,callBack:function(t){e.formLabelAlign.id?e.$message.success("修改成功"):(e.$message.success("新增成功"),e.formLabelAlign.id=t)}});case 8:e.loading=!1;case 9:case"end":return t.stop()}},t,e)}))()},getDetail:function(){var e=this;return f()(l.a.mark(function t(){var a;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a={id:e.formLabelAlign.id,uuid:e.uuid},e.loading=!0,t.next=4,e.projectList({data:a,callBack:function(t){var a=(t||[])[0]||{};for(var n in e.formLabelAlign)e.formLabelAlign[n]=a[n]}});case 4:e.loading=!1;case 5:case"end":return t.stop()}},t,e)}))()},requestAjax:function(){var e=this;return f()(l.a.mark(function t(){var a,n,r,s,i;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.formLabelAlign,a.id,a.name,a.remarks,a.returnData,n=P()(a,["id","name","remarks","returnData"]),r="",!n.header){t.next=10;break}t.prev=3,r=JSON.parse(n.header),t.next=10;break;case 7:return t.prev=7,t.t0=t.catch(3),t.abrupt("return",e.$message.error("header不是JSON格式"));case 10:if(!r||r.constructor===Object){t.next=12;break}return t.abrupt("return",e.$message.error("header不是JSON格式"));case 12:if(s="",!n.data){t.next=21;break}t.prev=14,s=JSON.parse(n.data),t.next=21;break;case 18:return t.prev=18,t.t1=t.catch(14),t.abrupt("return",e.$message.error("data不是JSON格式"));case 21:if(!s||s.constructor===Object){t.next=23;break}return t.abrupt("return",e.$message.error("data不是JSON格式"));case 23:return i=JSON.parse(p()(n)),e.formLabelAlign.returnData="",e.loading=!0,t.next=28,e.request({data:i,callBack:function(t){e.formLabelAlign.returnData=p()(t)}});case 28:e.loading=!1;case 29:case"end":return t.stop()}},t,e,[[3,7],[14,18]])}))()}}),computed:g()({},Object(v.c)(["getMenuList","getSelectMenu","getToDetailObj"]),{returnData:function(){return this.formLabelAlign.returnData?p()(JSON.parse(this.formLabelAlign.returnData),null,4):""},isShowButton:function(){return 0!==this.getSelectMenu.length&&0!==this.getMenuList.length&&this.getMenuList[this.getSelectMenu[0]].userName===this.userName}}),mounted:function(){var e=this.getToDetailObj,t=e.id,a=e.uuid,n=e.data;if(this.formLabelAlign.id&&this.uuid)if(this.formLabelAlign.id==t&&this.uuid==a)for(var r in this.formLabelAlign)this.formLabelAlign[r]=n[r];else this.getDetail();else 0===this.getMenuList.length&&this.$router.push("/")},watch:{getMenuList:function(e){var t=this;if((this.$route.params.id||"").split("_")[1]){var a=[];this.getMenuList.map(function(e,n){var r=e.children.findIndex(function(e,a){return e.uuid==t.$route.params.id.split("_")[1]});-1!==r&&(a=[n,r])}),this.setSelectMenu(a)}}}},C={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"content"},[a("el-button",{staticStyle:{"margin-bottom":"10px"},attrs:{type:"primary"},on:{click:function(t){return e.$router.back()}}},[e._v("返回")]),e._v(" "),a("el-form",{attrs:{"label-width":"80px"}},[a("el-form-item",{attrs:{label:"接口名称"}},[a("el-input",{staticStyle:{width:"400px"},model:{value:e.formLabelAlign.name,callback:function(t){e.$set(e.formLabelAlign,"name",t)},expression:"formLabelAlign.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"HOST："}},[a("el-input",{staticStyle:{width:"400px"},model:{value:e.formLabelAlign.host,callback:function(t){e.$set(e.formLabelAlign,"host",t)},expression:"formLabelAlign.host"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"URL："}},[a("el-input",{staticStyle:{width:"400px"},model:{value:e.formLabelAlign.url,callback:function(t){e.$set(e.formLabelAlign,"url",t)},expression:"formLabelAlign.url"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"method："}},[a("el-select",{model:{value:e.formLabelAlign.method,callback:function(t){e.$set(e.formLabelAlign,"method",t)},expression:"formLabelAlign.method"}},[a("el-option",{attrs:{label:"get",value:"get"}}),e._v(" "),a("el-option",{attrs:{label:"post",value:"post"}}),e._v(" "),a("el-option",{attrs:{label:"put",value:"put"}}),e._v(" "),a("el-option",{attrs:{label:"delete",value:"delete"}})],1),e._v(" "),a("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"primary"},on:{click:e.requestAjax}},[e._v("请求")]),e._v(" "),e.isShowButton?a("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"primary"},on:{click:e.save}},[e._v(e._s(e.formLabelAlign.id?"修改":"保存"))]):e._e()],1),e._v(" "),a("el-form-item",{attrs:{label:"header："}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:5},placeholder:"请输入JSON"},model:{value:e.formLabelAlign.header,callback:function(t){e.$set(e.formLabelAlign,"header",t)},expression:"formLabelAlign.header"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"data："}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:6,maxRows:10},placeholder:"请输入JSON"},model:{value:e.formLabelAlign.data,callback:function(t){e.$set(e.formLabelAlign,"data",t)},expression:"formLabelAlign.data"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"返回："}},[a("el-input",{staticClass:"red",attrs:{value:e.returnData,type:"textarea",autosize:{minRows:14,maxRows:20},readonly:""}})],1),e._v(" "),a("el-form-item",{attrs:{label:"备注："}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:4,maxRows:8}},model:{value:e.formLabelAlign.remarks,callback:function(t){e.$set(e.formLabelAlign,"remarks",t)},expression:"formLabelAlign.remarks"}})],1)],1)],1)},staticRenderFns:[]};var B=a("VU/8")(I,C,!1,function(e){a("D1hm")},"data-v-223f3742",null).exports,E={data:function(){return{userName:(JSON.parse(sessionStorage.getItem("user"))||{}).userName,uuid:this.$route.params.id,loading:!1,tableData:[],tableDatai:0,search:{date:[],method:"",key:""},pageIndex:1,pageSize:10,total:0,ids:[],obj:{model:!1,html:"",data:{}}}},name:"projectList",methods:g()({},Object(v.b)(["projectList","setSelectMenu","setSearch","setToDetailObj","projectDel"]),{getProjectList:function(){var e=this;return f()(l.a.mark(function t(){var a;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a={uuid:e.uuid,key:e.getSearch.key,method:e.getSearch.method,startTime:e.getSearch.date[0],endTime:e.getSearch.date[1],pageIndex:e.pageIndex,pageSize:e.pageSize},e.tableData=[],e.tableDatai++,e.loading=!0,t.next=6,e.projectList({data:a,tableDatai:e.tableDatai,callBack:function(t,a){if(a===e.tableDatai){var n=t||{},r=n.list,s=void 0===r?[]:r,i=n.count,o=void 0===i?0:i;e.tableData=s.map(function(t,a){return t.index=a*e.pageIndex+1,t}),e.total=o||0}}});case 6:e.loading=!1;case 7:case"end":return t.stop()}},t,e)}))()},dialog:function(e,t){var a="";if(t instanceof Array){if(0===t.length)return this.$message.warning("请勾选需要删除的接口");var n=[];this.tableData.forEach(function(e){t.find(function(t){return t===e.id})&&n.push(e.name)});var r=n.length;a=r>3?n.slice(0,3).join(",")+"等"+r+"项":n.join(",")}else a=this.tableData[e].name;this.obj={model:!0,html:'确定删除<span style="color: red">'+a+"</span>？",data:{index:e,id:t}}},handleDelete:function(){var e=this;return f()(l.a.mark(function t(){var a,n,r,s;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.obj.data,n=a.index,r=a.id,s={id:r,uuid:e.uuid},e.loading=!0,e.obj.model=!1,t.next=6,e.projectDel({data:s,callBack:function(t){e.$message.success("删除成功"),n||0===n?(e.tableData.splice(n,1),e.total--):e.getProjectList()}});case 6:e.loading=!1;case 7:case"end":return t.stop()}},t,e)}))()},handleEdit:function(e,t){var a=t.id;this.setToDetailObj({uuid:this.uuid,id:a,data:t}),this.$router.push({name:"detailId",params:{id:a+"_"+this.uuid}})},handleSelectionChange:function(e){this.ids=e.map(function(e){return e.id})},currentPage:function(e){this.pageIndex=e,this.getProjectList()}}),computed:g()({},Object(v.c)(["getMenuList","getSelectMenu","getSearch"]),{isShowButton:function(){return 0!==this.getSelectMenu.length&&0!==this.getMenuList.length&&this.getMenuList[this.getSelectMenu[0]].userName===this.userName}}),mounted:function(){0!==this.getSelectMenu.length&&this.getProjectList()},watch:{getSelectMenu:function(e){this.tableData=[],this.uuid=this.$route.params.id,this.getProjectList()},getMenuList:function(e){var t=this,a=[];this.getMenuList.map(function(e,n){var r=e.children.findIndex(function(e,a){return e.uuid===t.$route.params.id});-1!==r&&(a=[n,r])}),this.setSelectMenu(a)}}},U={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"projectList"},[a("div",{staticClass:"search"},[e._v("\n            请求方式： "),a("el-select",{model:{value:e.getSearch.method,callback:function(t){e.$set(e.getSearch,"method",t)},expression:"getSearch.method"}},[a("el-option",{attrs:{label:"",value:""}}),e._v(" "),a("el-option",{attrs:{label:"get",value:"get"}}),e._v(" "),a("el-option",{attrs:{label:"post",value:"post"}}),e._v(" "),a("el-option",{attrs:{label:"put",value:"put"}}),e._v(" "),a("el-option",{attrs:{label:"delete",value:"delete"}})],1),e._v("\n             \n            关键字："),a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入关键字"},model:{value:e.getSearch.key,callback:function(t){e.$set(e.getSearch,"key",t)},expression:"getSearch.key"}}),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.getProjectList}},[e._v("搜索")]),e._v(" "),e.isShowButton?a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.$router.push({name:"detail"})}}},[e._v("新增接口")]):e._e()],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{prop:"index",label:"排序",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"接口名",width:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"method",label:"请求方式",width:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"createDate",label:"创建时间",width:""}}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.handleEdit(t.$index,t.row)}}},[e._v("详情")]),e._v(" "),e.isShowButton?a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.dialog(t.$index,t.row.id)}}},[e._v("删除")]):e._e()]}}])})],1),e._v(" "),a("div",{staticClass:"footer"},[e.isShowButton?a("el-button",{staticStyle:{float:"left"},on:{click:function(t){return e.dialog(null,e.ids)}}},[e._v("批量删除")]):e._e(),e._v(" "),a("el-pagination",{staticStyle:{display:"inline-block"},attrs:{background:"",layout:"total, prev, pager, next",total:e.total,"current-page":e.pageIndex,"page-size":e.pageSize},on:{"current-change":e.currentPage}})],1),e._v(" "),a("el-dialog",{attrs:{title:"删除",visible:e.obj.model,width:"350px","before-close":function(){return e.obj.model=!1}}},[a("p",{staticStyle:{display:"flex","align-items":"center"}},[a("span",{domProps:{innerHTML:e._s(e.obj.html)}})]),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.obj.model=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.handleDelete}},[e._v("确 定")])],1)])],1)},staticRenderFns:[]};var R=a("VU/8")(E,U,!1,function(e){a("s0zq")},"data-v-030e1bee",null).exports,z={components:{Header:M},data:function(){return{loading:!1,getSearch:{key:"",state:""},tableData:[],tableHeight:150,total:0,pageIndex:1,pageSize:10,userNames:[]}},name:"setUser",methods:g()({},Object(v.b)(["getUserList","updateState"]),{addWhiteList:function(e,t){var a=this;return f()(l.a.mark(function e(){var n,r,s;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.state,r=t.userName,s={currentUserName:r,state:1===n?0:1},a.loading=!0,e.next=5,a.updateState({data:s,callBack:function(e){a.$message.success(1===n?"取消成功":"添加成功"),t.state=1===n?0:1}});case 5:a.loading=!1;case 6:case"end":return e.stop()}},e,a)}))()},userList:function(){var e=this;return f()(l.a.mark(function t(){var a,n,r,s;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.getSearch,n=a.key,r=a.state,s={pageIndex:e.pageIndex,pageSize:e.pageSize,key:n,state:r},e.loading=!0,t.next=5,e.getUserList({data:s,callBack:function(t){var a=t||{},n=a.count,r=void 0===n?0:n,s=a.list,i=void 0===s?[]:s;e.total=r,e.pageSize=r,e.tableHeight=i.length<2?150:i.length>10?700:65*i.length+65,e.tableData=i.map(function(t,a){var n=t.creatTime,r=t.userName,s=t.state;return{index:a*e.pageIndex+1,creatTime:n,userName:r,state:s}})}});case 5:e.loading=!1;case 6:case"end":return t.stop()}},t,e)}))()},handleSelectionChange:function(e){this.userNames=e.map(function(e){return e.userName})},currentPage:function(e){this.pageIndex=e,this.userList()}}),mounted:function(){this.userList()},watch:{}},H={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"setUser"},[a("el-col",{attrs:{span:24}},[a("span",{staticStyle:{color:"#aaa"}},[e._v("设置接口白名单（允许查看我的接口）：")]),e._v(" "),a("div",{staticClass:"search",staticStyle:{padding:"20px 0",color:"#aaa"}},[e._v("\n                状态： "),a("el-select",{model:{value:e.getSearch.state,callback:function(t){e.$set(e.getSearch,"state",t)},expression:"getSearch.state"}},[a("el-option",{attrs:{label:"",value:""}}),e._v(" "),a("el-option",{attrs:{label:"白名单",value:"1"}}),e._v(" "),a("el-option",{attrs:{label:"非白名单",value:"0"}})],1),e._v("\n                 \n                用户关键字："),a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入关键字"},model:{value:e.getSearch.key,callback:function(t){e.$set(e.getSearch,"key",t)},expression:"getSearch.key"}}),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.userList}},[e._v("搜索")])],1),e._v(" "),a("el-table",{ref:"table",staticStyle:{width:"100%"},attrs:{data:e.tableData,border:"",height:e.tableHeight}},[a("el-table-column",{attrs:{prop:"index",label:"排序",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{prop:"userName",label:"用户名",width:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"creatTime",label:"创建时间",width:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"state",label:"状态",width:""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                        "+e._s(1==t.row.state?"白名单":"非白名单")+"\n                    ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:0==t.row.state?"primary":""},on:{click:function(a){return e.addWhiteList(t.$index,t.row)}}},[e._v(e._s(1==t.row.state?"取消白名单":"添加白名单"))])]}}])})],1),e._v(" "),a("div",{staticClass:"footer"},[a("el-pagination",{staticStyle:{display:"inline-block"},attrs:{background:"",layout:"total, prev, pager, next",total:e.total,"current-page":e.pageIndex,"page-size":e.pageSize},on:{"current-change":e.currentPage}})],1)],1)],1)},staticRenderFns:[]};var T=a("VU/8")(z,H,!1,function(e){a("WaQD")},"data-v-25f88c57",null).exports;r.a.use(c.a);var J=new c.a({mode:"history",routes:[{path:"/",redirect:"/home"},{path:"/login",component:w,name:"login",hidden:!0},{path:"/home",component:A,name:"home",children:[{path:"setUser",component:T,name:"setUser"},{path:"projectList/:id",component:R,name:"projectList"},{path:"detail",component:B,name:"detail"},{path:"detail/:id",component:B,name:"detailId"}]}]}),G=a("mtWM"),V=a.n(G),q=a("mw3O"),F=a.n(q),W=a("l6IN"),X=a.n(W),Y=a("FhoZ"),Z=Y.host1,Q=Y.host2,K=function(e){e.code;var t=e.msg;X.a.Message.error(t)},ee=function(){var e=(JSON.parse(sessionStorage.getItem("user"))||{}).token,t="";try{t=returnCitySN.cip}catch(e){}return V.a.create({timeout:1e4,headers:{token:e,ip:t}})},te={selectHost:function(e){return 2==e?Q+"/gateway/resource":Z},post:function(e,t,a){var n=e.url,r=e.data,s=e.host,i=this,o=t.success,c=t.error,u=t.abnormalError;return f()(l.a.mark(function e(){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee().post(i.selectHost(s)+n,r).then(function(e){if("all"===a)return o(e.data);var t=e.data,n=t.code,r=t.data,s=t.msg;te.ajaxCallBack({code:n,data:r,msg:s},{success:o,error:c})}).catch(function(e){if(u)return u()});case 2:case"end":return e.stop()}},e,i)}))()},get:function(e,t,a){var n=e.url,r=e.data,s=e.host,i=this,o=t.success,c=t.error,u=t.abnormalError;return f()(l.a.mark(function e(){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee().get(i.selectHost(s)+n+"?"+F.a.stringify(r||{})).then(function(e){if("all"===a)return o(e.data);var t=e.data,n=t.code,r=t.data,s=t.msg;te.ajaxCallBack({code:n,data:r,msg:s},{success:o,error:c})}).catch(function(e){if(u)return u()});case 2:case"end":return e.stop()}},e,i)}))()},put:function(e,t,a){var n=e.url,r=e.data,s=e.host,i=this,o=t.success,c=t.error,u=t.abnormalError;return f()(l.a.mark(function e(){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee().put(i.selectHost(s)+n,r).then(function(e){if("all"===a)return o(e.data);var t=e.data,n=t.code,r=t.data,s=t.msg;te.ajaxCallBack({code:n,data:r,msg:s},{success:o,error:c})}).catch(function(e){if(u)return u()});case 2:case"end":return e.stop()}},e,i)}))()},delete:function(e,t,a){var n=e.url,r=e.data,s=e.host,i=this,o=t.success,c=t.error,u=t.abnormalError;return f()(l.a.mark(function e(){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee().delete(i.selectHost(s)+n+"?"+F.a.stringify(r||{})).then(function(e){if("all"===a)return o(e.data);var t=e.data,n=t.code,r=t.data,s=t.msg;te.ajaxCallBack({code:n,data:r,msg:s},{success:o,error:c})}).catch(function(e){if(u)return u()});case 2:case"end":return e.stop()}},e,i)}))()},ajaxCallBack:function(e,t){var a=e.code,n=e.data,r=e.msg,s=t.success,i=t.error;if(200==a)s&&s(n,r);else{if(401===a)return window.location.href="#/login";i?i({code:a,data:n,msg:r}):K({code:a,msg:r})}},error:function(e,t){var a="";if(e&&e.response)switch(e.response.status){case 400:a="错误请求";break;case 401:return;case 403:a="拒绝访问";break;case 404:a="请求错误，未找到资源";break;case 405:a="请合法操作";break;case 408:a="网络超时"}K({code:"",msg:a||t||"网络错误或服务器异常"})}},ae={state:{},getters:{},actions:{userLogin:function(e,t){var a=this,n=(e.commit,t.data),r=t.callBack;return f()(l.a.mark(function e(){var t;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t="/user/login",e.next=3,te.get({url:t,data:n},{success:function(e){r&&r(e)}});case 3:case"end":return e.stop()}},e,a)}))()},userRegister:function(e,t){var a=this,n=(e.commit,t.data),r=t.callBack;return f()(l.a.mark(function e(){var t;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t="/user/register",e.next=3,te.get({url:t,data:n},{success:function(e){r&&r(e)}});case 3:case"end":return e.stop()}},e,a)}))()},userUpdatePassword:function(e,t){var a=this,n=(e.commit,t.data),r=t.callBack;return f()(l.a.mark(function e(){var t;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t="/user/updatePassword",e.next=3,te.post({url:t,data:n},{success:function(e){r&&r(e)}});case 3:case"end":return e.stop()}},e,a)}))()},getUserList:function(e,t){var a=this,n=(e.commit,t.data),r=t.callBack;return f()(l.a.mark(function e(){var t;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t="/user/getUserList",e.next=3,te.get({url:t,data:n},{success:function(e){r&&r(e)}});case 3:case"end":return e.stop()}},e,a)}))()}},mutations:{}},ne={state:{menuList:[],selectMenu:[],search:{date:[],method:"",key:""},toDetailObj:{}},getters:{getMenuList:function(e){return e.menuList},getSelectMenu:function(e){return e.selectMenu},getSearch:function(e){return e.search},getToDetailObj:function(e){return e.toDetailObj}},actions:{getNavList:function(e,t){var a=this,n=(e.commit,t.data),r=t.callBack;return f()(l.a.mark(function e(){var t;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t="/menu/navList",e.next=3,te.get({url:t,data:n},{success:function(e){r&&r(e)}});case 3:case"end":return e.stop()}},e,a)}))()},addGrouping:function(e,t){var a=this,n=(e.commit,t.data),r=t.callBack;return f()(l.a.mark(function e(){var t;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t="/menu/addGrouping",e.next=3,te.post({url:t,data:n},{success:function(e){r&&r(e)}});case 3:case"end":return e.stop()}},e,a)}))()},rename:function(e,t){var a=this,n=(e.commit,t.data),r=t.callBack;return f()(l.a.mark(function e(){var t;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t="/menu/rename",e.next=3,te.post({url:t,data:n},{success:function(e){r&&r(e)}});case 3:case"end":return e.stop()}},e,a)}))()},menuDel:function(e,t){var a=this,n=(e.commit,t.data),r=t.callBack;return f()(l.a.mark(function e(){var t;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t="/menu/del",e.next=3,te.post({url:t,data:n},{success:function(e){r&&r(e)}});case 3:case"end":return e.stop()}},e,a)}))()},projectList:function(e,t){var a=this,n=(e.commit,t.data),r=t.callBack,s=t.tableDatai;return f()(l.a.mark(function e(){var t;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t="/project/list",e.next=3,te.get({url:t,data:n},{success:function(e){r&&r(e,s)}});case 3:case"end":return e.stop()}},e,a)}))()},addEdit:function(e,t){var a=this,n=(e.commit,t.data),r=t.callBack;return f()(l.a.mark(function e(){var t;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t="/project/addEdit",e.next=3,te.post({url:t,data:n},{success:function(e){r&&r(e)}});case 3:case"end":return e.stop()}},e,a)}))()},projectDel:function(e,t){var a=this,n=(e.commit,t.data),r=t.callBack;return f()(l.a.mark(function e(){var t;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t="/project/del",e.next=3,te.post({url:t,data:n},{success:function(e){r&&r(e)}});case 3:case"end":return e.stop()}},e,a)}))()},request:function(e,t){var a=this,n=(e.commit,t.data),r=t.callBack;return f()(l.a.mark(function e(){var t;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t="/request",e.next=3,te.post({url:t,data:n},{success:function(e){r&&r(e)}},"all");case 3:case"end":return e.stop()}},e,a)}))()},updateState:function(e,t){var a=this,n=(e.commit,t.data),r=t.callBack;return f()(l.a.mark(function e(){var t;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t="/user/updateState",e.next=3,te.post({url:t,data:n},{success:function(e){r&&r(e)}},"all");case 3:case"end":return e.stop()}},e,a)}))()},setMenuList:function(e,t){(0,e.commit)("setMenuList",t)},setSelectMenu:function(e,t){(0,e.commit)("setSelectMenu",t)},setSearch:function(e,t){(0,e.commit)("setSearch",t)},setToDetailObj:function(e,t){(0,e.commit)("setToDetailObj",t)}},mutations:{setMenuList:function(e,t){e.menuList=t},setSelectMenu:function(e,t){e.selectMenu=t},setSearch:function(e,t){e.search=t},setToDetailObj:function(e,t){e.toDetailObj=t}}};r.a.use(v.a);var re=new v.a.Store({modules:{login:ae,business:ne}});r.a.config.productionTip=!1,new r.a({el:"#app",router:J,store:re,components:{App:o},template:"<App/>"})},O01m:function(e,t){},W3ps:function(e,t){},WaQD:function(e,t){},l6IN:function(e,t){e.exports=ELEMENT},lRwf:function(e,t){e.exports=Vue},s0zq:function(e,t){}},["NHnr"]);